{"version":3,"sources":["assets\\Script\\tipBox.js"],"names":["cc","Class","Component","properties","label","Label","tipLabel","start","tip","otherTip","onLoad","setInterval","string","Math","floor","random","length","init","s","type","_score","openTipBox","gapTimer","clearInterval","isOpen","action","scaleTo","easing","easeBackOut","sq","sequence","callFunc","node","runAction","closeTimer","clearTimeout","setTimeout","closeTioBox"],"mappings":"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","sourceRoot":"/","sourcesContent":["// 提示框\ncc.Class({\n\textends: cc.Component,\n\n\tproperties: {\n\t\tlabel: cc.Label,\n\t\ttipLabel: cc.Label,\n\t},\n\tstart() {\n\t\tthis.tip = ['一次性大量消除可获得道具!', 'X2道具可以翻倍一次消除的分数', '炸弹道具可以消除全屏同色方块', '单个方块无法消除哦', '炸弹道具可以消除全屏同色方块', '仙女棒可以消除所有单个方块']\n\t\tthis.otherTip = [\n\t\t\t'长风破浪会有时，直挂云帆济沧海',\n\t\t\t'黄沙百战穿金甲，不破楼兰终不还',\n\t\t\t'纸上得来终觉浅，绝知此事要躬行',\n\t\t\t'君子坦荡荡，小人长戚戚',\n\t\t\t'穷则独善其身，达则兼济天下',\n\t\t\t'盛年不重来，一日难再晨',\n\t\t\t'人生若只如初见，何事秋风悲画扇',\n\t\t\t'行到水穷处，坐看云起时',\n\t\t\t'天生我材必有用，千金散尽还复来',\n\t\t\t'大鹏一日同风起，扶摇直上九万里',\n\t\t\t'遥望齐州九点烟，一泓海水杯中泻',\n\t\t\t'人世几回伤往事，山形依旧枕寒流',\n\t\t\t'但使龙城飞将在，不教胡马度阴山',\n\t\t\t'十年一觉扬州梦，赢得青楼薄幸名',\n\t\t\t'沧海月明珠有泪，蓝田日暖玉生烟',\n\t\t\t'世间无限丹青手，一片伤心画不成',\n\t\t\t'男儿何不带吴钩，收取关山五十州',\n\t\t\t'苟利国家生死以，岂因祸福避趋之',\n\t\t\t'夜阑卧听风吹雨，铁马冰河入梦来',\n\t\t\t'人生自古谁无死？留取丹心照汗青'\n\t\t]\n\t},\n\tonLoad() {\n\t\tsetInterval(() => {\n\t\t\tthis.tipLabel.string = this.tip ? ('tip:' + this.tip[Math.floor(Math.random() * this.tip.length)]) : ''\n\t\t}, 10000)\n\t},\n\tinit(s, type) { //传type是道具触发 不传是随机触发\n\t\tthis._score = s\n\t\tif (type > 0) {\n\t\t\tthis.label.string = this.tip[type]\n\t\t} else {\n\t\t\tthis.label.string = this.otherTip[Math.floor(Math.random() * this.otherTip.length)]\n\t\t}\n\t\tthis.openTipBox()\n\t\tif (this.gapTimer) {\n\t\t\tclearInterval(this.gapTimer)\n\t\t}\n\t\tthis.gapTimer = setInterval(() => {\n\t\t\tthis.init(this._score, -1)\n\t\t}, 5000)\n\t},\n\topenTipBox() {\n\t\tif (!this.isOpen) {\n\t\t\t// 动画 动画回掉\n\t\t\tlet action = cc.scaleTo(0.3, 1).easing(cc.easeBackOut(2.0))\n\t\t\tlet sq = cc.sequence(action, cc.callFunc(() => {\n\t\t\t\tthis.isOpen = true\n\t\t\t}))\n\t\t\tthis.node.runAction(sq)\n\t\t}\n\t\tif (this.closeTimer) {\n\t\t\tclearTimeout(this.closeTimer)\n\t\t}\n\t\tthis.closeTimer = setTimeout(() => {\n\t\t\tthis.closeTioBox()\n\t\t}, 4000)\n\t},\n\tcloseTioBox() {\n\t\tlet action = cc.scaleTo(0.3, 0)\n\t\tlet sq = cc.sequence(action, cc.callFunc(() => {\n\t\t\tthis.isOpen = false\n\t\t}))\n\t\tthis.node.runAction(sq)\n\t\t// if (this.openTimer) {\n\t\t//   clearTimeout(this.closeTimer)\n\t\t// }\n\t\t//this.openTimer = setTimeout(this.init(this._score, null), this._score.level * 2000)\n\t},\n\t// update (dt) {},\n});"]}